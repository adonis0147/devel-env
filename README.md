# devel-env

_**Devel-env**_ is aimed to set the development environment up on Linux server _**WITHOUT**_ root privilege.

It provides the following stuffs:
1. GCC toolchain **(GCC 11.2 + GLIBC 2.35)** - generated by [crosstool-ng](https://github.com/crosstool-ng/crosstool-ng)
2. Toolset - build the tools from source manually.

### TIPS: The GCC toolchain can be used *standalone*.

---

## GCC Toolchain

### Generation
1. Build the docker image. _**CAVEAT:**_ It may take **TOO TOO LONG** time to finish on **ARM64** platform. (On my MacBook Pro (13-inch, M1, 2020), it takes more than **4 hours** to finish. In contrast, on another MacBook Pro (15-inch, x86, 2016), it takes around **1.5 hours** to finish.)
```shell
cd toolchain
docker build --platform=linux/x86-64 -t toolchain .
```
2. Generate the toolchain.
```shell
mkdir output
docker run -it --platform=linux/x86-64 --rm --mount type=bind,source="$(pwd)/output",target=/output toolchain
```
3. Usage
```shell
# Copy the output/install_toolchain.sh to the target server and run the following commands.
./install_toolchain.sh <some path>
export PATH="<some path>/compiler/bin:${PATH}"
```

## Toolset
### Install the toolset
```shell
cp output/install_toolchain.sh devel/scripts

# Download the packages
bash devel/downloads/download_packages.sh

# Copy the whole devel directory to the target server (e.g. ${HOME}/devel) and run the following commands.
export DEVEL_HOME_PATH="${HOME}/devel"
cd "${DEVEL_HOME_PATH}/scripts"
./install.sh
```
### Usage
```shell
source "${HOME}/devel/scripts/env_vars.sh"
```
